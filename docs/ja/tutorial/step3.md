<!-- START doctoc generated TOC please keep comment here to allow auto update -->
<!-- DON'T EDIT THIS SECTION, INSTEAD RE-RUN doctoc TO UPDATE -->

- [Step 3. ã‚«ã‚¦ãƒ³ã‚¿ã®è¡¨ç¤º](#step-3-%E3%82%AB%E3%82%A6%E3%83%B3%E3%82%BF%E3%81%AE%E8%A1%A8%E7%A4%BA)
  - [ãƒšãƒ¼ã‚¸ç•ªå·](#%E3%83%9A%E3%83%BC%E3%82%B8%E7%95%AA%E5%8F%B7)
  - [ç« ç•ªå·](#%E7%AB%A0%E7%95%AA%E5%8F%B7)
  - [ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼](#%E3%83%97%E3%83%AC%E3%83%93%E3%83%A5%E3%83%BC)

<!-- END doctoc generated TOC please keep comment here to allow auto update -->

# Step 3. ã‚«ã‚¦ãƒ³ã‚¿ã®è¡¨ç¤º

æ¬¡ã«ã€ãƒšãƒ¼ã‚¸ç•ªå·ã¨ç« ç•ªå·ã‚’è¡¨ç¤ºã—ã¦ã¿ã¾ã—ã‚‡ã†ã€‚SCSS ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œã£ã¦ã€ãã“ã«æ–°ãŸãªã‚¹ã‚¿ã‚¤ãƒ«ã‚’å®šç¾©ã—ã¦ã„ãã“ã¨ã«ã—ã¾ã™ã€‚

```bash
$ touch scss/_my_style.scss
```

ä»Šä½œæˆã—ãŸ SCSS ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ãƒ¡ã‚¤ãƒ³ã®ã‚¹ã‚¿ã‚¤ãƒ«ãƒ•ã‚¡ã‚¤ãƒ« (scss/theme_common.scss) ã§ã‚¤ãƒ³ãƒãƒ¼ãƒˆã—ã¾ã™ã€‚

```scss {highlight: [15]}
// scss/theme_common.scss

// ...
@import '_variables';
@import '_vfm_code';
@import '_vfm_footnotes';
@import '_vfm_frontmatter';
@import '_vfm_hard_new_line';
@import '_vfm_image';
@import '_vfm_math_equation';
@import '_vfm_raw_html';
@import '_vfm_ruby';
@import '_vfm_sectionization';

@import '_my_style';

/* and more... ğŸ–‹ */
```

## ãƒšãƒ¼ã‚¸ç•ªå·

ã¾ãšã¯ãƒšãƒ¼ã‚¸ç•ªå·ã§ã™ã€‚Vivliostyle ã¯ `page` ã¨ã„ã†ã‚«ã‚¦ãƒ³ã‚¿å¤‰æ•°ã‚’æŒã£ã¦ã„ã‚‹ãŸã‚ã€é€šå¸¸ã¯è‡ªåˆ†ã§ãƒšãƒ¼ã‚¸ç•ªå·ç”¨ã®å¤‰æ•°ã‚’å®šç¾©ã™ã‚‹å¿…è¦ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚ã“ã®ã‚«ã‚¦ãƒ³ã‚¿å¤‰æ•°ã¯è‡ªå‹•çš„ã«ä¸€ç•ªæœ€åˆã®ãƒšãƒ¼ã‚¸ã§ãƒªã‚»ãƒƒãƒˆã•ã‚Œã€å„ãƒšãƒ¼ã‚¸ã§ã‚¤ãƒ³ã‚¯ãƒªãƒ¡ãƒ³ãƒˆã•ã‚Œã‚‹ã‚ˆã†ã«ãªã£ã¦ã„ã¾ã™ã€‚ãƒšãƒ¼ã‚¸ç•ªå·ã‚’è¡¨ç¤ºã™ã‚‹ã«ã¯ã€æ¬¡ã®ã‚ˆã†ãªã‚¹ã‚¿ã‚¤ãƒ«ã‚’å®šç¾©ã—ã¾ã™ã€‚

```scss
// scss/theme_common.scss å†…ã§å®šç¾©æ¸ˆã¿

// å·¦ãƒšãƒ¼ã‚¸ã®å ´åˆã¯å·¦ä¸Šã«è¡¨ç¤º
@page :left {
  @top-left {
    content: counter(page);
  }
}

// å³ãƒšãƒ¼ã‚¸ã®å ´åˆã¯å³ä¸Šã«è¡¨ç¤º
@page :right {
  @top-right {
    content: counter(page);
  }
}
```

ã—ã‹ã—ã€ã‚«ã‚¦ãƒ³ã‚¿ã®æŒ™å‹•ã‚’å¤‰ãˆãŸã„å ´åˆï¼ˆãŸã¨ãˆã°ã€ç›®æ¬¡ã§ã¯ãƒšãƒ¼ã‚¸ç•ªå·ã‚’ã‚¤ãƒ³ã‚¯ãƒªãƒ¡ãƒ³ãƒˆã—ãŸããªã„å ´åˆãªã©ï¼‰ã¯è‡ªåˆ†ã§ã‚«ã‚¦ãƒ³ã‚¿å¤‰æ•°ã‚’å®šç¾©ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚ã“ã®ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«ã§ã¯ç›®æ¬¡ã®ãƒšãƒ¼ã‚¸ç•ªå·ã‚’ã‚¤ãƒ³ã‚¯ãƒªãƒ¡ãƒ³ãƒˆã—ãŸããªã„ã®ã§ã€ä»¥ä¸‹ã®ã‚ˆã†ã«è‡ªåˆ†ã§å®šç¾©ã—ãŸã‚«ã‚¦ãƒ³ã‚¿å¤‰æ•° `p` ã‚’ä½¿ã†ã“ã¨ã«ã—ã¾ã™ã€‚

```scss {highlight: ['3-25']}
// scss/_my_style.scss

// ä¸€ç•ªæœ€åˆã®ãƒšãƒ¼ã‚¸ã§ãƒªã‚»ãƒƒãƒˆ
@page :first {
  counter-reset: p;
}

// å„ãƒšãƒ¼ã‚¸ã§ã‚¤ãƒ³ã‚¯ãƒªãƒ¡ãƒ³ãƒˆ
@page {
  counter-increment: p;
}

// å·¦ãƒšãƒ¼ã‚¸ã®å ´åˆã¯å·¦ä¸Šã«è¡¨ç¤º
@page :left {
  @top-left {
    content: counter(p);
  }
}

// å³ãƒšãƒ¼ã‚¸ã®å ´åˆã¯å³ä¸Šã«è¡¨ç¤º
@page :right {
  @top-right {
    content: counter(p);
  }
}
```

## ç« ç•ªå·

æ¬¡ã«ç« ç•ªå·ã‚’è¡¨ç¤ºã—ã¾ã™ã€‚`@page :nth(1) {}` ã‚’ä½¿ã£ã¦ã€vivliostyle.config.js ã® `entry` ã«æŒ‡å®šã—ãŸå„åŸç¨¿ãƒ•ã‚¡ã‚¤ãƒ«ã®ä¸€ç•ªæœ€åˆã®ãƒšãƒ¼ã‚¸ã§ã€ã‚«ã‚¦ãƒ³ã‚¿å¤‰æ•°ã® `chapter` ã‚’ã‚¤ãƒ³ã‚¯ãƒªãƒ¡ãƒ³ãƒˆã—ã¾ã™ã€‚

`@page :first {}` ã¯å‡ºç‰ˆç‰©å…¨ä½“ã‚’é€šã—ã¦æœ€åˆã®ãƒšãƒ¼ã‚¸ã‚’æŒ‡ã—ã¾ã™ã€‚ä¸€æ–¹ã§ `@page :nth(1) {}` ã¯ã€vivliostyle.config.js ã® `entry` ã§æŒ‡å®šã—ãŸåŸç¨¿ãƒ•ã‚¡ã‚¤ãƒ«ãã‚Œãã‚Œã®æœ€åˆã®ãƒšãƒ¼ã‚¸ã‚’æŒ‡ã—ã¾ã™ï¼ˆã“ã‚Œã¯ Vivliostyle ç‹¬è‡ªã®æŒ™å‹•ã§ã™ï¼‰ã€‚

```scss {highlight: ['3-16']}
// scss/_my_style.scss

// ç« ç•ªå·
@page :nth(1) {
  counter-increment: chapter p;
}

// ç« ã‚¿ã‚¤ãƒˆãƒ«
section > {
  h1 {
    &::before {
      content: 'ç¬¬ ' counter(chapter) ' ç« ';
      display: block;
    }
  }
}
```

## ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼

ã“ã‚Œã¾ã§ã®å¤‰æ›´ã‚’ãµã¾ãˆã¦ã€ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ã¯ä»¥ä¸‹ã®ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚ã‚ªãƒ¼ãƒˆãƒªãƒ­ãƒ¼ãƒ‰ã•ã‚Œãªã„å ´åˆã¯ã‚‚ã†ä¸€åº¦ `yarn dev` ã‚’è©¦ã—ã¦ã¿ã¦ãã ã•ã„ã€‚

![ãƒšãƒ¼ã‚¸ç•ªå·ã¨ç« ç•ªå·ãŒè¡¨ç¤ºã•ã‚ŒãŸ](/assets/step3.png)
